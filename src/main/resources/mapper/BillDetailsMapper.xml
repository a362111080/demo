<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.zero.egg.dao.BillDetailsMapper">
    <select id="getbilldetsils"  resultType="com.zero.egg.model.BillDetails">
        select b.name as goodsCategoryName,d.marker,a.*,a.quantity,a.amount,c.name as programName from bd_bill_details a
        left join bd_category b on b.id=a.goods_category_id
        left join bd_specification_program c on c.id=a.program_id
        left join bd_specification d on d.id=a.specification_id
        where  a.bill_id=#{id,jdbcType=INTEGER}
    </select>
    <update id="updateDetails" parameterType="BillDetails">update bd_bill_details
        <set>
            <if test="price!= null and price!=''">name= #{price,jdbcType=VARCHAR},</if>
            <if test="amount!= null and amount!=''">amount= #{shortname,jdbcType=VARCHAR},</if>
        </set>where id= #{id,jdbcType=VARCHAR}
    </update>


</mapper>
